{
	"info": {
		"_postman_id": "scada-api-collection",
		"name": "SCADA API - Local Testing",
		"description": "API collection for testing LR Energy SCADA backend locally with XAMPP",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost/scada-api/api",
			"type": "string"
		},
		{
			"key": "api_key",
			"value": "sk_test_local_development_key_123",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "1. Test Connection",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/test.php",
					"host": ["{{base_url}}"],
					"path": ["test.php"]
				},
				"description": "Test API and database connection"
			}
		},
		{
			"name": "2. Send SCADA Data",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"api_key\": \"{{api_key}}\",\n    \"timestamp\": \"2026-02-09 12:00:00\",\n    \"raw_biogas_flow\": 1250.5,\n    \"raw_biogas_totalizer\": 150000,\n    \"purified_gas_flow\": 1180.2,\n    \"purified_gas_totalizer\": 142000,\n    \"product_gas_flow\": 1150.8,\n    \"product_gas_totalizer\": 138000,\n    \"ch4_concentration\": 96.8,\n    \"co2_level\": 2.9,\n    \"o2_concentration\": 0.3,\n    \"h2s_content\": 180,\n    \"dew_point\": -68,\n    \"d1_temp_bottom\": 37,\n    \"d1_temp_top\": 36.5,\n    \"d1_gas_pressure\": 32,\n    \"d1_air_pressure\": 18,\n    \"d1_slurry_height\": 7.6,\n    \"d1_gas_level\": 75,\n    \"d2_temp_bottom\": 36.5,\n    \"d2_temp_top\": 36,\n    \"d2_gas_pressure\": 30,\n    \"d2_air_pressure\": 17,\n    \"d2_slurry_height\": 7.3,\n    \"d2_gas_level\": 72,\n    \"buffer_tank_level\": 82,\n    \"lagoon_tank_level\": 76,\n    \"feed_fm1_flow\": 42,\n    \"feed_fm1_totalizer\": 5000,\n    \"feed_fm2_flow\": 38,\n    \"feed_fm2_totalizer\": 4500,\n    \"fresh_water_flow\": 12,\n    \"fresh_water_totalizer\": 1500,\n    \"recycle_water_flow\": 26,\n    \"recycle_water_totalizer\": 3000,\n    \"psa_efficiency\": 94.4,\n    \"lt_panel_power\": 245,\n    \"compressor_status\": 1\n}"
				},
				"url": {
					"raw": "{{base_url}}/receive_data.php",
					"host": ["{{base_url}}"],
					"path": ["receive_data.php"]
				},
				"description": "Send SCADA data (simulates sync script)"
			}
		},
		{
			"name": "3. Get Dashboard Data",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/dashboard.php",
					"host": ["{{base_url}}"],
					"path": ["dashboard.php"]
				},
				"description": "Get latest data with averages for dashboard"
			}
		},
		{
			"name": "4. Get Trends (24 hours)",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/trends.php?hours=24",
					"host": ["{{base_url}}"],
					"path": ["trends.php"],
					"query": [
						{
							"key": "hours",
							"value": "24"
						}
					]
				},
				"description": "Get 24 hours of trend data"
			}
		},
		{
			"name": "5. Get Trends (Custom)",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/trends.php?hours=12&parameters=raw_biogas_flow,ch4_concentration",
					"host": ["{{base_url}}"],
					"path": ["trends.php"],
					"query": [
						{
							"key": "hours",
							"value": "12"
						},
						{
							"key": "parameters",
							"value": "raw_biogas_flow,ch4_concentration"
						}
					]
				},
				"description": "Get specific parameters for custom time range"
			}
		},
		{
			"name": "6. Login (HEAD_OFFICE)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"it@lrenergy.in\",\n    \"password\": \"qwerty\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/auth.php",
					"host": ["{{base_url}}"],
					"path": ["auth.php"]
				},
				"description": "Login as HEAD_OFFICE user"
			}
		},
		{
			"name": "7. Login (MNRE)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"it1@lrenergy.in\",\n    \"password\": \"qwerty\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/auth.php",
					"host": ["{{base_url}}"],
					"path": ["auth.php"]
				},
				"description": "Login as MNRE user"
			}
		},
		{
			"name": "8. Login (Invalid)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"wrong@email.com\",\n    \"password\": \"wrongpassword\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/auth.php",
					"host": ["{{base_url}}"],
					"path": ["auth.php"]
				},
				"description": "Test invalid login (should return 401)"
			}
		},
		{
			"name": "9. Get Sync Status",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/sync_status.php",
					"host": ["{{base_url}}"],
					"path": ["sync_status.php"]
				},
				"description": "Get last sync status (used by sync script)"
			}
		},
		{
			"name": "10. Send Data (Invalid API Key)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"api_key\": \"wrong_key\",\n    \"timestamp\": \"2026-02-09 12:00:00\",\n    \"raw_biogas_flow\": 1250.5\n}"
				},
				"url": {
					"raw": "{{base_url}}/receive_data.php",
					"host": ["{{base_url}}"],
					"path": ["receive_data.php"]
				},
				"description": "Test invalid API key (should return 401)"
			}
		}
	]
}
